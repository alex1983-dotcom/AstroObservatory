# üéì –ú–æ–¥—É–ª—å 2: –û—Å–Ω–æ–≤—ã FastAPI

## 2.1 üìç –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ (@app.get, @app.post, etc.)

–û—Ç–ª–∏—á–Ω–æ! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç—É –ª—é–±–æ–≥–æ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî **–º–∞—Ä—à—Ä—É—Ç–∞–º (routes)**.

---

## üìñ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–∞?

**–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–∞** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ Python, –∫–æ—Ç–æ—Ä–∞—è ¬´–≥–æ–≤–æ—Ä–∏—Ç¬ª FastAPI: 
> ¬´–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∏—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —ç—Ç–æ—Ç URL —Å —ç—Ç–∏–º –º–µ—Ç–æ–¥–æ–º ‚Äî –≤—ã–ø–æ–ª–Ω–∏ –¥–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é¬ª

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

| –î–µ–∫–æ—Ä–∞—Ç–æ—Ä | HTTP-–º–µ—Ç–æ–¥ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∏–∑ AstroObservatory |
|-----------|------------|------------|---------------------------|
| `@app.get()` | GET | –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–µ–±–µ—Å–Ω—ã—Ö —Ç–µ–ª |
| `@app.post()` | POST | –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –Ω–µ–±–µ—Å–Ω–æ–µ —Ç–µ–ª–æ |
| `@app.put()` | PUT | –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ–ª–∞ |
| `@app.patch()` | PATCH | –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ |
| `@app.delete()` | DELETE | –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö | –£–¥–∞–ª–∏—Ç—å –Ω–µ–±–µ—Å–Ω–æ–µ —Ç–µ–ª–æ |

---

## üîç –†–∞–∑–±–∏—Ä–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–¥ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª **`app/routers/celestial_bodies.py`**. –í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∏–ø–∏—á–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç:

```python
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –ü—Ä–∏–º–µ—Ä 1: POST –∑–∞–ø—Ä–æ—Å ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–±–µ—Å–Ω–æ–≥–æ —Ç–µ–ª–∞
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

@router.post(
    "/", 
    response_model=CelestialBodyRead, 
    status_code=status.HTTP_201_CREATED,
    summary="–°–æ–∑–¥–∞—Ç—å –Ω–µ–±–µ—Å–Ω–æ–µ —Ç–µ–ª–æ",
    description="–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –æ –Ω–µ–±–µ—Å–Ω–æ–º —Ç–µ–ª–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö"
)
async def create_celestial_body(
    body: CelestialBodyCreate, 
    db: AsyncSession = Depends(get_db)
):
    # ... –ª–æ–≥–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏
```

### üß© –†–∞–∑–±–æ—Ä –∫–∞–∂–¥–æ–π —á–∞—Å—Ç–∏:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  @router.post(                    ‚Üê 1. –î–ï–ö–û–†–ê–¢–û–† –ú–ê–†–®–†–£–¢–ê      ‚îÇ
‚îÇ      "/",                         ‚Üê 2. –ü–£–¢–¨ (URL)               ‚îÇ
‚îÇ      response_model=...,          ‚Üê 3. –ú–û–î–ï–õ–¨ –û–¢–í–ï–¢–ê            ‚îÇ
‚îÇ      status_code=...,             ‚Üê 4. HTTP –°–¢–ê–¢–£–°              ‚îÇ
‚îÇ      summary=...,                 ‚Üê 5. –ó–ê–ì–û–õ–û–í–û–ö –¥–ª—è Swagger    ‚îÇ
‚îÇ      description=...              ‚Üê 6. –û–ü–ò–°–ê–ù–ò–ï –¥–ª—è Swagger     ‚îÇ
‚îÇ  )                                ‚îÇ                              ‚îÇ
‚îÇ  async def create_celestial_body( ‚Üê 7. –§–£–ù–ö–¶–ò–Ø-–û–ë–†–ê–ë–û–¢–ß–ò–ö       ‚îÇ
‚îÇ      body: CelestialBodyCreate,   ‚Üê 8. –ü–ê–†–ê–ú–ï–¢–†–´ (–≤–∞–ª–∏–¥–∞—Ü–∏—è)    ‚îÇ
‚îÇ      db: AsyncSession = ...       ‚Üê 9. DEPENDENCY (–ë–î —Å–µ—Å—Å–∏—è)   ‚îÇ
‚îÇ  ):                               ‚îÇ                              ‚îÇ
‚îÇ      # ... —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏           ‚Üê 10. –ë–ò–ó–ù–ï–°-–õ–û–ì–ò–ö–ê           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìö –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞

### 1Ô∏è‚É£ `@router.post()` ‚Äî –î–µ–∫–æ—Ä–∞—Ç–æ—Ä

```python
# –í —Ñ–∞–π–ª–µ celestial_bodies.py –≤ –Ω–∞—á–∞–ª–µ —Å–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä:
router = APIRouter(
    prefix="/celestial-bodies",  # ‚Üê –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
    tags=["–ù–µ–±–µ—Å–Ω—ã–µ —Ç–µ–ª–∞"],       # ‚Üê –ì—Ä—É–ø–ø–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
)

# –ü–æ—ç—Ç–æ–º—É "/" —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è "/celestial-bodies/"
@router.post("/")  # = POST /celestial-bodies/
```

> üí° **–í–∞–∂–Ω–æ:** `@router.post()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª–µ–π-—Ä–æ—É—Ç–µ—Ä–æ–≤, –∞ `@app.post()` ‚Äî –≤ –≥–ª–∞–≤–Ω–æ–º —Ñ–∞–π–ª–µ `main.py`. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å –∫–æ–¥ –ø–æ –º–æ–¥—É–ª—è–º.

### 2Ô∏è‚É£ `"/"` ‚Äî –ü—É—Ç—å (URL Path)

| –î–µ–∫–æ—Ä–∞—Ç–æ—Ä | –ü–æ–ª–Ω—ã–π URL | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|-----------|------------|------------|
| `@router.post("/")` | `POST /celestial-bodies/` | –°–æ–∑–¥–∞—Ç—å —Ç–µ–ª–æ |
| `@router.get("/")` | `GET /celestial-bodies/` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ |
| `@router.get("/{body_id}")` | `GET /celestial-bodies/1` | –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ —Ç–µ–ª–æ –ø–æ ID |
| `@router.put("/{body_id}")` | `PUT /celestial-bodies/1` | –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–ª–æ |
| `@router.delete("/{body_id}")` | `DELETE /celestial-bodies/1` | –£–¥–∞–ª–∏—Ç—å —Ç–µ–ª–æ |

### 3Ô∏è‚É£ `response_model` ‚Äî –ú–æ–¥–µ–ª—å –æ—Ç–≤–µ—Ç–∞

```python
response_model=CelestialBodyRead
```

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- ‚úÖ FastAPI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ–±—ä–µ–∫—Ç –ë–î –≤ —ç—Ç—É —Å—Ö–µ–º—É
- ‚úÖ –ò—Å–∫–ª—é—á–∞–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `hashed_password`)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –≤ Swagger UI
- ‚úÖ –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∫–ª–∏–µ–Ω—Ç—É

**–ü—Ä–∏–º–µ—Ä –∏–∑ `app/models/celestial_body.py`:**
```python
class CelestialBodyRead(CelestialBodyBase):
    id: int                    # ‚Üê –ë—É–¥–µ—Ç –≤ –æ—Ç–≤–µ—Ç–µ
    created_at: datetime       # ‚Üê –ë—É–¥–µ—Ç –≤ –æ—Ç–≤–µ—Ç–µ
    updated_at: datetime       # ‚Üê –ë—É–¥–µ—Ç –≤ –æ—Ç–≤–µ—Ç–µ
    parent_name: Optional[str] # ‚Üê –í—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ
    children_count: int        # ‚Üê –í—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ
```

### 4Ô∏è‚É£ `status_code` ‚Äî HTTP —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞

```python
status_code=status.HTTP_201_CREATED  # ‚Üê 201 –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
```

| –ö–æ–¥ | –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
|-----|-----------|-------------------|
| 200 | `HTTP_200_OK` | –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| 201 | `HTTP_201_CREATED` | –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ (POST) |
| 204 | `HTTP_204_NO_CONTENT` | –£—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (DELETE) |
| 400 | `HTTP_400_BAD_REQUEST` | –û—à–∏–±–∫–∞ –≤ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞ |
| 404 | `HTTP_404_NOT_FOUND` | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω |
| 422 | `HTTP_422_UNPROCESSABLE_ENTITY` | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ |
| 500 | `HTTP_500_INTERNAL_SERVER_ERROR` | –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

**–ü—Ä–∏–º–µ—Ä DELETE —Å 204:**
```python
@router.delete(
    "/{body_id}", 
    status_code=status.HTTP_204_NO_CONTENT  # ‚Üê –ù–µ—Ç —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞
)
async def delete_celestial_body(...):
    await db.delete(db_body)
    await db.commit()
    return None  # ‚Üê –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç
```

### 5Ô∏è‚É£ `summary` –∏ `description` ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

```python
summary="–°–æ–∑–¥–∞—Ç—å –Ω–µ–±–µ—Å–Ω–æ–µ —Ç–µ–ª–æ",
description="–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –æ –Ω–µ–±–µ—Å–Ω–æ–º —Ç–µ–ª–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö"
```

**–≠—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Swagger UI:**
- `summary` ‚Üí –ó–∞–≥–æ–ª–æ–≤–æ–∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
- `description` ‚Üí –†–∞–∑–≤—ë—Ä–Ω—É—Ç–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Markdown)

**–í Swagger UI —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ POST /celestial-bodies/                     ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ
‚îÇ –°–æ–∑–¥–∞—Ç—å –Ω–µ–±–µ—Å–Ω–æ–µ —Ç–µ–ª–æ                       ‚îÇ ‚Üê summary
‚îÇ                                             ‚îÇ
‚îÇ –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –æ –Ω–µ–±–µ—Å–Ω–æ–º —Ç–µ–ª–µ...     ‚îÇ ‚Üê description
‚îÇ                                             ‚îÇ
‚îÇ [Try it out] [Execute]                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîÑ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞

```
1. –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: POST /celestial-bodies/
   { "name": "–ó–µ–º–ª—è", "type": "planet", ... }
       ‚Üì
2. FastAPI –Ω–∞—Ö–æ–¥–∏—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä @router.post("/")
       ‚Üì
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ CelestialBodyCreate (Pydantic)
       ‚Üì
4. –í—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é create_celestial_body()
       ‚Üì
5. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î)
       ‚Üì
6. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ CelestialBodyRead
       ‚Üì
7. FastAPI —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –≤ JSON –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É
   { "id": 1, "name": "–ó–µ–º–ª—è", "type": "planet", ... }
```

---

## üìÅ –í—Å–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ AstroObservatory

| –§–∞–π–ª | –î–µ–∫–æ—Ä–∞—Ç–æ—Ä | URL | –§—É–Ω–∫—Ü–∏—è |
|------|-----------|-----|---------|
| `celestial_bodies.py` | `@router.post("/")` | `/celestial-bodies/` | `create_celestial_body` |
| `celestial_bodies.py` | `@router.get("/")` | `/celestial-bodies/` | `read_celestial_bodies` |
| `celestial_bodies.py` | `@router.get("/{body_id}")` | `/celestial-bodies/{id}` | `read_celestial_body` |
| `celestial_bodies.py` | `@router.put("/{body_id}")` | `/celestial-bodies/{id}` | `update_celestial_body` |
| `celestial_bodies.py` | `@router.delete("/{body_id}")` | `/celestial-bodies/{id}` | `delete_celestial_body` |
| `celestial_bodies.py` | `@router.get("/statistics")` | `/celestial-bodies/statistics` | `get_statistics` |
| `astronomers.py` | `@router.post("/")` | `/astronomers/` | `create_astronomer` |
| `astronomers.py` | `@router.get("/")` | `/astronomers/` | `read_astronomers` |
| `observations.py` | `@router.post("/")` | `/observations/` | `create_observation` |
| `auth.py` | `@router.post("/register")` | `/auth/register` | `register_user` |
| `auth.py` | `@router.post("/token")` | `/auth/token` | `login_for_access_token` |
| `auth.py` | `@router.get("/me")` | `/auth/me` | `read_users_me` |
| `main.py` | `@app.get("/")` | `/` | `root` |
| `main.py` | `@app.get("/health")` | `/health` | `health_check` |

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

### –ó–∞–¥–∞–Ω–∏–µ 1: –ò–∑—É—á–∏—Ç–µ Swagger UI

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `uvicorn app.main:app --reload`
2. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8000/docs`
3. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **¬´–ù–µ–±–µ—Å–Ω—ã–µ —Ç–µ–ª–∞¬ª**
4. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç **POST /celestial-bodies/**
5. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞:
   - `summary` –∏ `description` (–∫–æ—Ç–æ—Ä—ã–µ –º—ã –∑–∞–¥–∞–ª–∏ –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–µ)
   - `Response Model` (CelestialBodyRead)
   - `Status Code` (201)

### –ó–∞–¥–∞–Ω–∏–µ 2: –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

1. **–ö–∞–∫–æ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞?**
2. **–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç `status_code=204` –≤ DELETE –∑–∞–ø—Ä–æ—Å–µ?**
3. **–ö–∞–∫—É—é —Ä–æ–ª—å –∏–≥—Ä–∞–µ—Ç `response_model` –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–µ?**
4. **–ì–¥–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `@app.get("/health")`?**

### –ó–∞–¥–∞–Ω–∏–µ 3: –ú–∏–Ω–∏-–ø—Ä–∞–∫—Ç–∏–∫–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

–í —Ñ–∞–π–ª–µ `app/main.py` –µ—Å—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç `/health`. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ:
1. –ù–∞–π—Ç–∏ –µ–≥–æ –≤ –∫–æ–¥–µ
2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫–æ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
3. –û—Ç–∫—Ä—ã—Ç—å –≤ Swagger UI –∏ –Ω–∞–∂–∞—Ç—å ¬´Try it out¬ª

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–Ω–∏–º–∞—Ç—å:

- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–∞ –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω
- [ ] –†–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `@app.get()`, `@app.post()`, `@router.get()`, `@router.post()`
- [ ] –î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω `response_model`
- [ ] –ö–∞–∫–∏–µ —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ö–∞–∫ `summary` –∏ `description` –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ö–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã, –Ω–∞–ø–∏—à–∏—Ç–µ:
- **¬´–ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ 2.2¬ª** ‚Äî –∏–∑—É—á–∏–º Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`/{body_id}`)
- –ò–ª–∏ –∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ!

–ñ–¥—É –≤–∞—à–∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ –∑–∞–¥–∞–Ω–∏—è! üìù